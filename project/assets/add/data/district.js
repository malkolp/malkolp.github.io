// noinspection JSUnresolvedFunction

window.data_district_       = [
    {
        id		: 1,
        did     : 'dis1',
        city    : false,
        name    : 'Buru',
        svg     : 'dis-1',
        regions : [
            {
                id		: 1,
                rid     : 'reg1',
                name    : 'Namlea',
            },
            {
                id		: 1,
                rid     : 'reg2',
                name    : 'Air Buaya',
            },
            {
                id		: 1,
                rid     : 'reg3',
                name    : 'Waeapo',
            },
            {
                id		: 1,
                rid     : 'reg4',
                name    : 'Waplau',
            },
            {
                id		: 1,
                rid     : 'reg5',
                name    : 'Batabual',
            },
            {
                id		: 1,
                rid     : 'reg6',
                name    : 'Lolong Guba',
            },
            {
                id		: 1,
                rid     : 'reg7',
                name    : 'Waelata',
            },
            {
                id		: 1,
                rid     : 'reg8',
                name    : 'Fena Leisela',
            },
            {
                id		: 1,
                rid     : 'reg9',
                name    : 'Teluk Kailey',
            },
            {
                id		: 1,
                rid     : 'reg10',
                name    : 'Lilialy',
            },
        ],
    },
    {
        id		: 2,
        did     : 'dis2',
        city    : false,
        name    : 'Buru Selatan',
        svg     : 'dis-2',
        regions : [
            {
                id		: 1,
                rid     : 'reg11',
                name    : 'Namrole',
            },
            {
                id		: 1,
                rid     : 'reg12',
                name    : 'Waesama',
            },
            {
                id		: 1,
                rid     : 'reg13',
                name    : 'Ambalau',
            },
            {
                id		: 1,
                rid     : 'reg14',
                name    : 'Kepala Madan',
            },
            {
                id		: 1,
                rid     : 'reg15',
                name    : 'Leksula',
            },
            {
                id		: 1,
                rid     : 'reg16',
                name    : 'Fena Fafan',
            },
        ],
    },
    {
        id		: 3,
        did     : 'dis3',
        city    : false,
        name    : 'Kepulauan Aru',
        svg     : 'dis-3',
        regions : [
            {
                id		: 1,
                rid     : 'reg17',
                name    : 'Pulau-Pulau Aru',
            },
            {
                id		: 1,
                rid     : 'reg18',
                name    : 'Aru Selatan',
            },
            {
                id		: 1,
                rid     : 'reg19',
                name    : 'Aru Tengah',
            },
            {
                id		: 1,
                rid     : 'reg20',
                name    : 'Aru Utara',
            },
            {
                id		: 1,
                rid     : 'reg21',
                name    : 'Aru Utara Timur Batuley',
            },
            {
                id		: 1,
                rid     : 'reg22',
                name    : 'Sir-sir',
            },
            {
                id		: 1,
                rid     : 'reg23',
                name    : 'Aru Tengah Timur',
            },
            {
                id		: 1,
                rid     : 'reg24',
                name    : 'Aru Tengah Selatan',
            },
            {
                id		: 1,
                rid     : 'reg25',
                name    : 'Aru Selatan Timur',
            },
            {
                id		: 1,
                rid     : 'reg26',
                name    : 'Aru Selatan Utara',
            },
        ],
    },
    {
        id		: 4,
        did     : 'dis4',
        city    : false,
        name    : 'Kepulauan Tanimbar',
        svg     : 'dis-4',
        regions : [
            {
                id		: 1,
                rid     : 'reg74',
                name    : 'Tanimbar Selatan',
            },
            {
                id		: 1,
                rid     : 'reg75',
                name    : 'Selaru',
            },
            {
                id		: 1,
                rid     : 'reg76',
                name    : 'Wer Tamrian',
            },
            {
                id		: 1,
                rid     : 'reg77',
                name    : 'Wer Maktian',
            },
            {
                id		: 1,
                rid     : 'reg78',
                name    : 'Tanimbar Utara',
            },
            {
                id		: 1,
                rid     : 'reg79',
                name    : 'Yaru',
            },
            {
                id		: 1,
                rid     : 'reg80',
                name    : 'Wuar Labobar',
            },
            {
                id		: 1,
                rid     : 'reg81',
                name    : 'Kormomolin',
            },
            {
                id		: 1,
                rid     : 'reg82',
                name    : 'Nirunmas',
            },
            {
                id		: 1,
                rid     : 'reg83',
                name    : 'Molu Maru',
            },
        ],
    },
    {
        id		: 5,
        did     : 'dis5',
        city    : false,
        name    : 'Maluku Barat Daya',
        svg     : 'dis-5',
        regions : [
            {
                id		: 1,
                rid     : 'reg27',
                name    : 'Moa Lakor',
            },
            {
                id		: 1,
                rid     : 'reg28',
                name    : 'Damer',
            },
            {
                id		: 1,
                rid     : 'reg29',
                name    : 'Mndona Hiera',
            },
            {
                id		: 1,
                rid     : 'reg30',
                name    : 'Pulau-Pulau Babar',
            },
            {
                id		: 1,
                rid     : 'reg31',
                name    : 'Pulau-Pulau Babar Timur',
            },
            {
                id		: 1,
                rid     : 'reg32',
                name    : 'Wetar',
            },
            {
                id		: 1,
                rid     : 'reg33',
                name    : 'Pulau-Pulau Terselatan',
            },
            {
                id		: 1,
                rid     : 'reg34',
                name    : 'Pulau Leti',
            },
            {
                id		: 1,
                rid     : 'reg35',
                name    : 'Pulau Masela',
            },
            {
                id		: 1,
                rid     : 'reg36',
                name    : 'Dawelor Dawera',
            },
            {
                id		: 1,
                rid     : 'reg37',
                name    : 'Pulau Wetang',
            },
            {
                id		: 1,
                rid     : 'reg38',
                name    : 'Pulau Lakor',
            },
            {
                id		: 1,
                rid     : 'reg39',
                name    : 'Wetar Utara',
            },
            {
                id		: 1,
                rid     : 'reg40',
                name    : 'Wetar Barat',
            },
            {
                id		: 1,
                rid     : 'reg41',
                name    : 'Wetar Timur',
            },
            {
                id		: 1,
                rid     : 'reg42',
                name    : 'Kepulauan Romang',
            },
            {
                id		: 1,
                rid     : 'reg43',
                name    : 'Kisar Utara',
            },
        ],
    },
    {
        id		: 6,
        did     : 'dis6',
        city    : false,
        name    : 'Maluku Tengah',
        svg     : 'dis-6',
        regions : [
            {
                id		: 1,
                rid     : 'reg44',
                name    : 'Amahai',
            },
            {
                id		: 1,
                rid     : 'reg45',
                name    : 'Teon Nila Serua',
            },
            {
                id		: 1,
                rid     : 'reg46',
                name    : 'Seran Utara',
            },
            {
                id		: 1,
                rid     : 'reg47',
                name    : 'Banda',
            },
            {
                id		: 1,
                rid     : 'reg48',
                name    : 'Banda',
            },
            {
                id		: 1,
                rid     : 'reg49',
                name    : 'Tehoru',
            },
            {
                id		: 1,
                rid     : 'reg50',
                name    : 'Saparua',
            },
            {
                id		: 1,
                rid     : 'reg51',
                name    : 'Pulau Haruku',
            },
            {
                id		: 1,
                rid     : 'reg52',
                name    : 'Salahutu',
            },
            {
                id		: 1,
                rid     : 'reg53',
                name    : 'Leihitu',
            },
            {
                id		: 1,
                rid     : 'reg54',
                name    : 'Nusa Laut',
            },
            {
                id		: 1,
                rid     : 'reg55',
                name    : 'Kota Masohi',
            },
            {
                id		: 1,
                rid     : 'reg56',
                name    : 'Seram Utara Barat',
            },
            {
                id		: 1,
                rid     : 'reg57',
                name    : 'Teluk Elpaputih',
            },
            {
                id		: 1,
                rid     : 'reg58',
                name    : 'Leihitu Barat',
            },
            {
                id		: 1,
                rid     : 'reg59',
                name    : 'Telutih',
            },
            {
                id		: 1,
                rid     : 'reg60',
                name    : 'Seram Utara Timur Seti',
            },
            {
                id		: 1,
                rid     : 'reg61',
                name    : 'Seram Utara Timur Kobi',
            },
            {
                id		: 1,
                rid     : 'reg62',
                name    : 'Saparua Timur',
            },
        ],
    },
    {
        id		: 7,
        did     : 'dis7',
        city    : false,
        name    : 'Maluku Tenggara',
        svg     : 'dis-7',
        regions : [
            {
                id		: 1,
                rid     : 'reg63',
                name    : 'Kei Kecil',
            },
            {
                id		: 1,
                rid     : 'reg64',
                name    : 'Kei Besar',
            },
            {
                id		: 1,
                rid     : 'reg65',
                name    : 'Kei Besar Selatan',
            },
            {
                id		: 1,
                rid     : 'reg66',
                name    : 'Kei Besar Utara Timur',
            },
            {
                id		: 1,
                rid     : 'reg67',
                name    : 'Kei Kecil Timur',
            },
            {
                id		: 1,
                rid     : 'reg68',
                name    : 'Kei Kecil Barat',
            },
            {
                id		: 1,
                rid     : 'reg69',
                name    : 'Manyeuw',
            },
            {
                id		: 1,
                rid     : 'reg70',
                name    : 'Hoat Sorbay',
            },
            {
                id		: 1,
                rid     : 'reg71',
                name    : 'Kei Besar Utara Barat',
            },
            {
                id		: 1,
                rid     : 'reg72',
                name    : 'Kei Besar Selatan Barat',
            },
            {
                id		: 1,
                rid     : 'reg73',
                name    : 'Kei Besar Timur Selatan',
            },
        ],
    },
    {
        id		: 8,
        did     : 'dis8',
        city    : false,
        name    : 'Seram Bagian Barat',
        svg     : 'dis-8',
        regions : [
            {
                id		: 1,
                rid     : 'reg84',
                name    : 'Kairatu',
            },
            {
                id		: 1,
                rid     : 'reg85',
                name    : 'Seram Barat',
            },
            {
                id		: 1,
                rid     : 'reg86',
                name    : 'Taniwel',
            },
            {
                id		: 1,
                rid     : 'reg87',
                name    : 'Huamual Belakang',
            },
            {
                id		: 1,
                rid     : 'reg88',
                name    : 'Amalatu',
            },
            {
                id		: 1,
                rid     : 'reg89',
                name    : 'Inamosol',
            },
            {
                id		: 1,
                rid     : 'reg90',
                name    : 'Kairatu Barat',
            },
            {
                id		: 1,
                rid     : 'reg91',
                name    : 'Huamual',
            },
            {
                id		: 1,
                rid     : 'reg92',
                name    : 'Kepulauan Manipa',
            },
            {
                id		: 1,
                rid     : 'reg93',
                name    : 'Taniwel Timur',
            },
            {
                id		: 1,
                rid     : 'reg94',
                name    : 'Elpaputih',
            },
        ],
    },
    {
        id		: 9,
        did     : 'dis9',
        city    : false,
        name    : 'Seram Bagian Timur',
        svg     : 'dis-9',
        regions : [
            {
                id		: 1,
                rid     : 'reg95',
                name    : 'Bula',
            },
            {
                id		: 1,
                rid     : 'reg96',
                name    : 'Seram Timur',
            },
            {
                id		: 1,
                rid     : 'reg97',
                name    : 'Werinama',
            },
            {
                id		: 1,
                rid     : 'reg98',
                name    : 'Pulau Gorom',
            },
            {
                id		: 1,
                rid     : 'reg99',
                name    : 'Wakate',
            },
            {
                id		: 1,
                rid     : 'reg100',
                name    : 'Tutuk Tolu',
            },
            {
                id		: 1,
                rid     : 'reg101',
                name    : 'Siwalalat',
            },
            {
                id		: 1,
                rid     : 'reg102',
                name    : 'Kilmury',
            },
            {
                id		: 1,
                rid     : 'reg103',
                name    : 'Pulau Panjang',
            },
            {
                id		: 1,
                rid     : 'reg104',
                name    : 'Teor',
            },
            {
                id		: 1,
                rid     : 'reg105',
                name    : 'Gorom Timur',
            },
            {
                id		: 1,
                rid     : 'reg106',
                name    : 'Bula Barat',
            },
            {
                id		: 1,
                rid     : 'reg107',
                name    : 'Kian Darat',
            },
            {
                id		: 1,
                rid     : 'reg108',
                name    : 'Sirtaun Wida Timur',
            },
            {
                id		: 1,
                rid     : 'reg109',
                name    : 'Teluk Waru',
            },
        ],
    },
    {
        id		: 10,
        did     : 'dis10',
        city    : true,
        name    : 'Ambon',
        svg     : 'dis-10',
        regions : [
            {
                id		: 1,
                rid     : 'reg110',
                name    : 'Nusaniwe',
            },
            {
                id		: 1,
                rid     : 'reg111',
                name    : 'Sirimau',
            },
            {
                id		: 1,
                rid     : 'reg112',
                name    : 'Baguala',
            },
            {
                id		: 1,
                rid     : 'reg113',
                name    : 'Teluk Ambon',
            },
            {
                id		: 1,
                rid     : 'reg114',
                name    : 'Leitimur Selatan',
            },
        ],
    },
    {
        id		: 11,
        did     : 'dis11',
        city    : true,
        name    : 'Tual',
        svg     : 'dis-11',
        regions : [
            {
                id		: 1,
                rid     : 'reg115',
                name    : 'Pulau Dullah Utara',
            },
            {
                id		: 1,
                rid     : 'reg116',
                name    : 'Pulau Dullah Selatan',
            },
            {
                id		: 1,
                rid     : 'reg117',
                name    : 'Tayando Tam',
            },
            {
                id		: 1,
                rid     : 'reg118',
                name    : 'Pulau-Pulau Kur',
            },
            {
                id		: 1,
                rid     : 'reg119',
                name    : 'Kur Selatan',
            },
        ],
    },
];

window.read_district_   = (remove=false, loadSvg=false)=>{
    const data_dist     = window.data_district_.slice();
    const read          = d=>{
        const data_reg  = d.regions.slice();
        const o         = {
            id          : d.id,
            did         : d.did,
            name        : (()=>{if (d.city) return 'Kota '  + d.name;return 'Kabupaten ' + d.name;})(),
            alias       : (()=>{if (d.city) return 'Kota '  + d.name;return 'Kab. ' + d.name;})(),
            original    : d.name,
            regions     : {},
            head        : undefined,
            tail        : undefined,
            next        : undefined,
            prev        : undefined,
            svg         : d.svg,
        };

        o.forEach       = (callback=()=>{})=>{
            o.regions.forEach(callback);
        };
        o.option        = '<option value="'+o.did+'">'+o.name+'</option>';
        o.options       = '';

        (()=>{
            const v         = data_reg.shift();
            const a         = {
                id          : v.id,
                rid         : v.rid,
                name        : 'Kecamatan ' + v.name,
                alias       : 'Kec. ' + v.name,
                original    : v.name,
                prev        : undefined,
                next        : undefined,
            };

            a.option            = '<option value="'+a.rid+'">'+a.name+'</option>';
            o.options          += a.option;
            o.regions[a.rid]    = a;
            o.head              = a;
            o.tail              = a;
            a.district          = o;
            x.regions[a.rid]    = a;
        })();

        data_reg.forEach(r=>{
            const a         = {
                id          : r.id,
                rid         : r.rid,
                name        : 'Kecamatan ' + r.name,
                alias       : 'Kec. ' + r.name,
                original    : r.name,
                prev        : o.tail,
                next        : undefined,
            };

            a.option            = '<option value="'+a.rid+'">'+a.name+'</option>';
            o.options          += a.option;
            o.regions[a.rid]    = a;
            o.tail.next         = a;
            o.tail              = a;
            a.district          = o;
            x.regions[a.rid]    = a;
        });

        return o;
    };
    const x             = {
        head            : undefined,
        tail            : undefined,
        data            : {},
        options         : '',
        regions         : {},
    };

    if (loadSvg) {
        loadSvg         = e=>{
            let svg     = e.svg;
            const pid   = 'path-' + e.did;

            if (typeof svg === 'string') {
                svg     = {
                    shape   : document.getElementById(svg),
                    point   : document.getElementById('cds-' + e.did),
                    label   : document.getElementById('lab-' + e.did),
                    value   : document.getElementById('val-' + e.did),
                    paths   : {
                        select  : $('.' + pid),
                        target  : {},
                    },
                };

                svg.paths.select.each((i, e)=>{
                    let attr                = e.getAttribute('class');

                    attr                    = attr.replace(pid, '');
                    attr                    = attr.replace(' ', '');
                    attr                    = attr.replace('path-', '');
                    svg.paths.target[attr]  = e;
                });

                e.svg   = svg;
            }
        };
    }
    else {
        loadSvg         = ()=>{};
    }

    x.forEach           = (callback=()=>{})=>{
        let ptr         = x.head;

        while (ptr !== undefined) {
            const now   = ptr;

            callback(now);
            ptr         = now.next;
        }
    };
    (()=>{
        const tmp       = data_dist.shift();
        const res       = read(tmp);

        x.data[res.did] = res;
        x.head          = res;
        x.tail          = res;
        x.options       = res.option;
        loadSvg(res);
    })();
    data_dist.forEach(d=>{
        const dis       = read(d);

        x.data[dis.did] = dis;
        dis.prev        = x.tail;
        x.tail.next     = dis;
        x.tail          = dis;
        x.options      += dis.option;
        loadSvg(dis);
    });
    if (remove)
        delete window.data_district_;

    return x;
};